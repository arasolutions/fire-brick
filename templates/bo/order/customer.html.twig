{% extends 'bo/base.html.twig' %}

{% block title %}Hello OrderController!{% endblock %}

{% block stylesheets %}
    <link href="{{ asset('assets/plugins/unitegallery/css/unitegallery.css') }}" rel="stylesheet">
{% endblock %}

{% block body %}
    <div id="page-content">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2">
                <div class="panel">
                    <div class="panel-body">
                        <div id="wizard">
                            {% include 'bo/order/wizard.html.twig' %}
                            <div id="wizard-tab2" class="tab-pane">
                                {{ form_start(form, {'attr':{'class':'form-horizontal'}}) }}
                                <div class="col-sm-9">
                                    <div class="form-group">
                                        <div class="pull-left text-3x">Allez c'est parti ! créons votre site</div>
                                    </div>
                                </div>
                                {% if site.product %}
                                    <div class="col-sm-3">
                                        <div class="pull-right bloc-price">A partir de <br/><span
                                                    class="price text-2x">{{ site.product.price }}€</span>/mois
                                        </div>
                                    </div>
                                {% endif %}
                                <div class="col-sm-12 form-group">
                                    <label>Nom du produit</label>
                                    <div>{{ site.product.name }}</div>
                                </div>
                                <div class="col-sm-12 form-group">
                                    <label>Nom du thème</label>
                                    <div>{{ site.template.name }}</div>
                                </div>
                                <div class="col-sm-12 form-group">
                                    <label>Couleur du thème</label>
                                    <div>{{ site.colorTheme }}</div>
                                </div>
                                <div class="col-sm-12 form-group">
                                    <label>Nom du site</label>
                                    <div>{{ site.name }}</div>
                                </div>
                                <div class="col-sm-6 form-group">
                                    {{ form_label(form.managerLastName, null, {'label_attr':{'class':'control-label'}}) }}
                                    {{ form_widget(form.managerLastName, {'attr':{'class':'form-control input-lg'}}) }}
                                </div>
                                <div class="col-sm-6 form-group pull-right margin-right-10">
                                    {{ form_label(form.managerFirstName, null, {'label_attr':{'class':'control-label'}}) }}
                                    {{ form_widget(form.managerFirstName, {'attr':{'class':'form-control input-lg'}}) }}
                                </div>
                                <div class="col-sm-6 form-group pull-right margin-right-10">
                                    {{ form_label(form.managerPhone, null, {'label_attr':{'class':'control-label'}}) }}
                                    {{ form_widget(form.managerPhone, {'attr':{'class':'form-control input-lg'}}) }}
                                </div>
                                <div class="col-sm-6 form-group pull-right margin-right-10">
                                    {{ form_label(form.managerMail, null, {'label_attr':{'class':'control-label'}}) }}
                                    {{ form_widget(form.managerMail, {'attr':{'class':'form-control input-lg'}}) }}
                                </div>
                                <div class="col-sm-12 form-group text-right">
                                    <button type="submit" class="btn btn-mint btn-lg">Créer mon compte</button>
                                </div>
                                {{ form_end(form) }}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

{% endblock %}

{% block javascripts %}
    <script src="{{ asset('assets/plugins/unitegallery/js/unitegallery.js') }}"></script>
    <script src="{{ asset('assets/plugins/unitegallery/themes/tilesgrid/ug-theme-tilesgrid.js') }}"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $('#codePromoBtn').on('click', function (e) {
                if ($('#order_codePromo').val() !== '') {
                    $('#order_hasCodePromo').val(1);
                } else {
                    e.preventDefault();
                }
            });
        });
        $(document).on('nifty.ready', function () {
            $("#demo-gallery-2").unitegallery({
                grid_num_rows: 2,
                tile_enable_border: false,
                tile_enable_shadow: false,
                theme_navigation_type: "arrows",
                tile_enable_textpanel: true,
                tile_textpanel_title_text_align: "center",
                tile_textpanel_always_on: true,
                tile_textpanel_bg_color: "#FFF",
                tile_textpanel_bg_opacity: 1,
                tile_textpanel_title_color: "grey",
                tile_textpanel_title_bold: "normal",
                tile_textpanel_position: "bottom",
                tile_textpanel_css_title: {
                    "font-size": "12px",
                },
                tile_as_link: true,
                tile_overlay_opacity: .4

            });

            $(".ug-thumb-wrapper.ug-tile").on('click', function (e) {
                e.preventDefault();
                $(".ug-thumb-wrapper.ug-tile").removeClass('selected');
                $(this).addClass('selected');
                $('#order_template').val($(this).attr('href').substr(1, $(this).attr('href').length));
            });

            $(".ug-thumb-wrapper.ug-tile .ug-tile-icon.ug-icon-link").on('click', function (e) {
                e.preventDefault();
            });

        });
    </script>
{% endblock %}
